# Blog November 2025

<style>
  .flex-container {display: flex; gap: 20px; align-items: flex-start;}
  .column {flex: 1 1 0; min-width: 0;}
  .column--right {border-left: 1px solid var(--md-default-fg-color--lightest); padding-left: 20px; }
</style>

**INDEX**

<!--
[Kontext and SRPO](#kontext-and-srpo)  
/-->

---

[Main Page](../index.md)

## Exploring Workflows

**02.11.2025**  
Generally speaking, I've had less than stellar experiences trying other people's workflows. If they're simple enough for me to get my 70-odd (emphasis on the '*odd*') year head around it, I can generally get things to work. But sometimes things are a bit too bespoke and I get lost in the weeds. Go to install nodes or models or stuff the workflow asks for and come to find out that I'm on the wrong version of Python.  
And basically stuff up my ComfyUI install and have to start from scratch.

ComfyUI *is* becoming more robust, so stuffing up one's install has become less of a problem.

---

Whilst the fact that 'my' [little workflow on Reddit](https://www.reddit.com/r/comfyui/comments/1okk9xg/persistent_consistent_characters_in_flux_srpo/) has enjoyed, to date, 3200+ views and 8 likes, no one is asking for help with it. The only comments on the page are mine. Which tells me: no-one is interested in static images anymore, they want video.  
Fine, whatever. Done my bit, shared with the community.


<a href="/assets/images/blog25/06-01VictGirl.jpg" target="_blank" rel="noopener">
<img src="/assets/images/blog25/06-01VictGirlb.jpg" alt="Victorian Girl" width="360" align="left"></a>

<a href="/assets/images/blog25/06-02VictGirl.jpg" target="_blank" rel="noopener">
<img src="/assets/images/blog25/06-02VictGirlb.jpg" alt="Victorian Girl" width="360" align="right"></a>


A lot of what I'm learning is on the ComfyUI subReddit. So, I found a new workflow for SRPO today, something I wasn't looking for, but -- **WOW!** -- am I glad I found this one.

It wasn't all that straight-forward going, gettting this workflow working. Had to install a few nodes -- *as you do* -- and then, tried to work out why 'Flash-Attention2' wasn't working. And found out the I'd need a more recent flavour of CUDA (the NVidia driver) and-and-and... nah -- not going there. Had another look at the options for that section of the workflow, and found something alternative to Flash-Attention2 that I already have.

Now, this workflow was developed **AGES** ago (which means a few weeks or months, not *years*) so a node has disappeared -- the ImageSmartSharpen node, used to be part of the ComfyUI Essentials nodeset -- so you can't even install it.

Here's where Reddit comes into its own. A user (*Nevereast*) posted this:

"*For anyone who also googles this: you can fix this yourself: you can browse the repo and view the history of images.py and find the missing component (ImageSmartSharpen) was removed in the latest release. I just copied the code block from the version prior to the release and put it in the corresponding file in my local environment. There should be three changes: one for the component, and two pointer variables overriding the core image smart sharpen. Hope this helps anyone else who has this issue.*"

'Nevereast' meant 'image.py', but anyway, followed the instructions, works a treat!!

*Explainer for Nevereast's post:*  
- 'browse the repo' = have a look in the original [GitHub repository](https://github.com/cubiq/ComfyUI_essentials)  
- 'view the history of images.py' = there's an **image.py**, download that file  
- 'copied the code block' = I didn't: I just went into the /ComfyUI/custome_nodes/comfyui_essentials folder, renamed 'image.py' to 'image.bak' and placed the file I download in its place as 'image.py'. Works after you reboot the ComfyUI server.

So, why all the bother? Was this all worth it?

I invite you to click on one of the above two images, save it, open it in your favourite image-editing software (or viewing, *peu importe*) and **zoom in**.

The quality is **next level**.

---

I'm revisiting all my old renders, doing some of them over. And of course, whilst I was going a dewy-eyed about this workflow, a new flavour of [Qwen Image Edit](https://huggingface.co/Phr00t/Qwen-Image-Edit-Rapid-AIO) -- All-In-One -- has dropped. It is impossible to keep up. Here I was trying to build this elaborate 2-character workflow, and Qwen already has it all mapped out: you can combine 2, 3 and even 4 images together. Makes my little dual-consistent-character effort obsolete. Qwen Image Edit All-In-One will be easier, higher quality and much faster to get an image.

Well, maybe not the last one. I think it will always take multiple renders to get the right results.

<style>
  .flex-container {display: flex; gap: 20px;}
  .column {width: 100%;}
</style>

<div class="flex-container">
  <div class="column">

    <a href="/assets/images/blog25/06-03Kaimu.jpg" target="_blank" rel="noopener">
    <img src="/assets/images/blog25/06-03Kaimub.jpg" alt="Girl at Kaimu" width="180"></a>

    <a href="/assets/images/blog25/06-04Kaimu.jpg" target="_blank" rel="noopener">
    <img src="/assets/images/blog25/06-04Kaimub.jpg" alt="Girl at Kaimu" width="180"></a>

    <a href="/assets/images/blog25/06-05VictGirl.jpg" target="_blank" rel="noopener">
    <img src="/assets/images/blog25/06-05VictGirl.jpg" alt="Girl at the Train" width="180"></a>

    <a href="/assets/images/blog25/06-06VictGirl.jpg" target="_blank" rel="noopener">
    <img src="/assets/images/blog25/06-06VictGirl.jpg" alt="Girl at the Train" width="180"></a>

    <a href="/assets/images/blog25/06-07VictGirl.jpg" target="_blank" rel="noopener">
    <img src="/assets/images/blog25/06-07VictGirl.jpg" alt="Mystery Girl" width="180"></a>

  </div>
</div>

<hr style="height:12px;border-width:0;color:pink;background-color:pink">







### That Easy Fix 

**03.11.2025**  
I'm so proud of Julia. We intend to lose the extra kilos we've accumulated over time (and through wrong eating and nil exercise): I'm a *sick* of being overweight! So this morning **we** got down and dirty with a bit of aerobics! **WooHOO**!!

We're also starting out day with 'swamp water' -- warm lemon water with a spoonful of psyllium husk -- and being careful about food choices. Pizza? Not for the next forseeable future. Steak with Diane sauce? Hold the Diane sauce, thanks.

---

I had to revisit my easy-fixed node this morning when ComfyUI pissed and moaned about not finding a LUT folder or something. The only change I had done was to that image.py node -- as in, replaced it with an older version that contained the 'ImageSmartSharpen' component -- and ComfyUI wasn't happy with that solution. So, I went back and did what Nevereast had suggested in the first place:

- backed up image.py  
- copied the class ImageSmartSharpen over from the original to the existing: line 1072  
- added reference to the class in IMAGE_CLASS_MAPPINGS: line 1718  
- added reference to the name in IMAGE_NAME_MAPPINGS: line 1763  

ComfyUI was happy with those changes. Of course, I've zipped up that entire folder again, because I might need to repeat the process when I do an update. Oh well. You pay a price for flexibility.

---

Having a go with this new Qwen model. The model download was **[Twenty-Nine Gigabytes](https://huggingface.co/Phr00t/Qwen-Image-Edit-Rapid-AIO/tree/main)**!!! Good job we have fibre-to-the-premises NBN (fibre-optic broadband). Julia can watch her Netflix programmes and I can download stuff: NBN broadband does it with ease.

Here is the workflow. To the uninitiated, it may look complex because of the 'noodles', but it is *actually* one of the simplest ComfyUI workflows to date.


<a href="/assets/images/blog25/06-11QwenAIO.jpg" target="_blank" rel="noopener">
<img src="/assets/images/blog25/06-11QwenAIO.jpg" alt="Qwen AIO" width="700"></a>


(*Click for an expanded view*)

The base images:

<div class="flex-container">
  <div class="column">

    <a href="/assets/images/blog25/06-08VictGirl.jpg" target="_blank" rel="noopener">
    <img src="/assets/images/blog25/06-08VictGirl.jpg" alt="Victorian Girl" width="180"></a>

    <a href="/assets/images/blog25/06-09VictGirl.jpg" target="_blank" rel="noopener">
    <img src="/assets/images/blog25/06-09VictGirl.jpg" alt="Victorian Girl" width="180"></a>

    <a href="/assets/images/blog25/06-10Train.jpg" target="_blank" rel="noopener">
    <img src="/assets/images/blog25/06-10Train.jpg" alt="Victorian Train" width="180"></a>

  </div>
</div>

A few notes on these images.

<a href="/assets/images/blog25/06-12Train.jpg" target="_blank" rel="noopener">
<img src="/assets/images/blog25/06-12Train.jpg" alt="Victorian Girl" width="180" align="right"></a>

The images are versions of previous renders. Same prompts. With the images of the women, all reference to a background was removed. For the empty train, I used Flux Kontext with the simple prompt to: *Remove the woman from the image. Preserve the textures.*

You can do some crazy stuff using the different models. The dress of the girl in the first image above -- let's call her 'Celeste' ... I do -- didn't seem appropriate for this scene. So, I loaded that image into my **Flux Kontext** workflow with the prompt:

*Change the hair style to tied back Low Updo hair. Change the dress to dark green Victorian dress with fitted bodice and square neckline with lace trim and the neckline. Preserve the woman's hands pose.*


<a href="/assets/images/blog25/06-13VictGirl.jpg" target="_blank" rel="noopener">
<img src="/assets/images/blog25/06-13VictGirl.jpg" alt="Victorian Girl" width="360" align="left"></a>

<a href="/assets/images/blog25/06-14Train.jpg" target="_blank" rel="noopener">
<img src="/assets/images/blog25/06-14Train.jpg" alt="Victorian Girl" width="360" align="right"></a>


And *voila*!  
Updated the scene with Celeste now wearing her Victorian-style (*sort-of*) green dress in my **UBeaut Qwen Image Edit AIO** workflow and got the picture on the right. Yes, the poses are different: I tried making the seed 'fixed' instead of 'randomize' in the KSampler and entering the previous seed. 

**1019212345419124**.

Nope, it didn't work.

Actually, my problem was that I had been *over-baking* my Qwen images by setting steps to 25. According to [this video by Sharvin](https://www.youtube.com/watch?v=rXQh1dHZSAo), steps is meant to be set to 4! Because of that change -- setting steps to 4 -- the composition of the image changed. Huge benefit is: renders are now at *least* ten-times faster. Got to admit: that was sloppy of me. Just like my 'ImageSmartSharpen' quick-fix, which didn't. Fix the problem, that is... instead, it created other problems.

---

Apart from that, the character-consistency aspect of Celeste and Moi-mÃªme seems to be eroding. Will LoRAs work in Qwen?

Time to find out.

Well, the LoRA loader hooked up fine, but workflow generated **2256** lines of errors telling me it wouldn't load the LoRAs. Come to find out: Qwen LoRAs exist, and the training is specific to Qwen. Meaning: I can't use a Flux LoRA in Qwen. Yet. Another observation: it seems the 5090 graphics card is becoming the default for anything serious you want to do.

<hr style="height:12px;border-width:0;color:pink;background-color:pink">






### FluxGym 16 Images

I do depend a lot on "Emily" *(ChatGPT)*. Just read a bit more on FluxGym (for creating Flux LoRAs) and the article claim I should be able to *easily* throw a 60-image dataset at it. Well, my install kept pooing itself with as few as 12 images. Thought I'd try a different model. My [discussion with Emily](../visual/FluxGym.md) have resolved that issue, thankfully. I was able to create a LoRA *(moimeme4)* with 16 images. Yes, it takes a long time, but I'm pretty happy with the results.

Saying that, I had hoped to at last be rid of that confounded 'brow ridge'. Oh well, 'in for a penny'.


<a href="/assets/images/blog25/06-15VictGirl.jpg" target="_blank" rel="noopener">
<img src="/assets/images/blog25/06-15VictGirl.jpg" alt="Victorian Girl" width="360" align="left"></a>

<a href="/assets/images/blog25/06-16Office.jpg" target="_blank" rel="noopener">
<img src="/assets/images/blog25/06-16Office.jpg" alt="Office Girl" width="360" align="right"></a>

Where things have gone in such a short time. As mentioned in a previous post, a lot of archived images from Automatic1111 and early ComfyUI have gone the way of Blender renders. The images -- well, I suppose I should keep **some** just to chronicle progress -- are frankly an embarassment, now. Blender and Poser content-creation files and render are being deleted to make room for unet files (safetensors) and other models. I don't want to buy HDDs unless the old drives are showing signs of expiring.  
The latest Qwen Image Edit All-In-One was 29 gigabytes. This SRPO is 23.8 gig.  
Need the room, Poser/Blender.

Clicking on either of these images will open the image in a new tab. Click the image to zoom in. The realism is uncanny.

<hr style="height:4px;border-width:0;color:pink;background-color:pink">






### Tomorrow's Entry


<hr style="height:16px;border-width:0;color:pink;background-color:pink">

[Main Page](../index.md)
